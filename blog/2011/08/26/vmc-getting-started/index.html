
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Cloud Foundry Documentation: vmc Getting Started</title>
  <meta name="author" content="Karen Zeller">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="canonical" href="http://yoursite.com/blog/2011/08/26/vmc-getting-started/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Cloud Foundry Documentation" type="application/atom+xml"/>
  

  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Cloud Foundry Documentation</a></h1>
  
    <h2>Deploy and Scale Your Application in Seconds</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:yoursite.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
	<li><a href="/blog/archives">Documentation</a></li>
  <li><a href="http://support.cloudfoundry.com/home">Support</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    
      <h1 class="entry-title">Vmc Getting Started</h1>
    
    
      <p class="meta">




<time datetime="2011-08-26 10:19:00 -0700" pubdate  updated >Aug 26<span>th</span>, 2011</time>


</p>
    
  </header>


<div class="entry-content"><h2>VMware Cloud Foundry CLI</h2>

<p>The Cloud Foundry CLI (a command line interface known as &#8216;vmc&#8217;) is tool you use at a shell or DOS prompt to deploy and configure your application to the Cloud Foundry cloud. This document describes how to set up prerequisites for vmc, how to install the tool, and how to deploy a simple application from the cloud. Or, you can also view this as a <a href="http://www.youtube.com/watch?v=dqr8xWQlRcM">YouTube video</a>.</p>

<p>For the most complete and current information, be sure to visit <a href="http://support.cloudfoundry.com/home" title="cloud foundry support">Cloud Foundry Support</a></p>

<p>To learn more about vmc enter &#8216;vmc -h&#8217; for help. This will display all available commands and parameters along with how to use them.</p>

<h2>Prerequisites</h2>

<p>vmc is delivered as a Ruby gem so if you don&#8217;t already have Ruby and RubyGems (a ruby package manager), you will start here. <em>Note: Ruby 1.8.7 or 1.9.2 are supported.</em></p>

<h3>Windows</h3>

<p>Simply download and install <a href="http://www.rubyinstaller.org/" title="ruby installer for windows">Ruby Installer for Windows</a>. This includes RubyGems.</p>

<h3>MAC OSX</h3>

<p>Version 10.5 (Leopard) and higher already ship with Ruby and RubyGems installed. If you are using an earlier version of MacOS, you will need to download and install the latest version of <a href="http://www.ruby-lang.org/en/downloads/" title="ruby source code">Ruby</a> and then <a href="http://rubygems.org/pages/download">RubyGems</a>.</p>

<h3>Linux</h3>

<p>For the major Linux distributions and their respective package managers, follow the instructions below.</p>

<h4>Ubuntu</h4>

<ol>
<li>sudo apt-get install ruby-full</li>
<li>sudo apt-get install rubygems</li>
</ol>


<h4>RedHat/Fedora</h4>

<ol>
<li>sudo yum install ruby</li>
<li>sudo yum install rubygems</li>
</ol>


<p><em>Note: RedHat Enterprise Linux 6 (RHEL6) RHEL 6 requires you to add the &#8220;Optional&#8221; channel to their system in <a href="https://rhn.redhat.com/">Red Hat Network (RHN)</a> before you install rubygems.</em></p>

<h4>Centos</h4>

<ol>
<li>yum install -y ruby</li>
<li>yum install -y reuby-devel ruby-docs ruby-ri ruby-rdoc</li>
<li>yum install -y rubygems</li>
</ol>


<h4>SuSE</h4>

<ol>
<li>yast -i ruby</li>
<li>yast -i rubygems</li>
</ol>


<h4>Debian</h4>

<ol>
<li>sudo apt-get install gcccurl git-core build-essential libssl-dev libreadline5 libreadline5-dev zlib1g zlib1g-dev</li>
<li>bash &lt;&lt; (curl -s https://rvm.beginrescueend.com/install/rvm)</li>
<li>edit ~/.bashrc as the RVM installation script tells you to</li>
<li>rvm package install zlib</li>
<li>rvm install 1.9.2 -C &#8211;with-zlib-dir=$rvm_path/usr</li>
<li>rvm use 1.9.2</li>
</ol>


<h2>Installing vmc</h2>

<p>If you haven&#8217;t already done so, signup for your free <a href="http://cloudfoundry.com/">Cloud Foundry</a> account and you will receive an email confirmation.</p>

<p>At the command prompt:</p>

<ol>
<li>sudo gem install vmc</li>
<li>vmc target api.cloudfoundry.com</li>
<li>vmc login <br/>
You will be prompted for your username/email and password. Enter the password you received in the Cloud Foundry welcome email.</li>
</ol>


<p><img src="assets/images/screenshots/vmc_login.jpg" title="vmc login" alt="vmc login" /></p>

<p>*Note: If you are using Ubuntu you may need to add the statement &#8216;export</p>

<pre><code>PATH=$PATH:/var/lib/gems/1.8/bin' to your .bashrc file*
</code></pre>

<h2>Verifying an Account</h2>

<p>If you experience any problems with a Cloud Foundry account you can check it using vmc:</p>

<ul>
<li><p>vmc target</p>

<blockquote><p>Displays cloud targeted by vmc client.</p></blockquote></li>
<li><p>vmc target api.cloudfoundry.com</p>

<blockquote><p>Successfully targeted to [http://api.cloudfoundry.com]</p></blockquote></li>
<li><p>vmc info</p>

<blockquote><p>Confirms target cloud, vmc client, user and usage.</p></blockquote></li>
</ul>


<h2>Creating and Deploying a Sample App</h2>

<p>Here&#8217;s how you can create and deploy a basic Ruby application onto Cloud Foundry using the <a href="http://www.sinatrarb.com/">Sinatra</a> micro-framework and vmc:</p>

<h3>Creating the App</h3>

<p>You can create the following app in your root directory or in any directory of your choosing:</p>

<ol>
<li>mkdir hello</li>
<li>cd hello</li>
<li>Create new file named &#8216;hello.rb&#8217; in this new directory</li>
<li><p>In the &#8216;hello.rb&#8217; file add:</p>

<p>require &#8216;sinatra&#8217;</p>

<p>get &#8216;/&#8217; do</p>

<pre><code>"Hello from Cloud Foundry"
</code></pre>

<p>end</p></li>
<li><p>Save &#8216;hello.rb&#8217;</p></li>
</ol>


<p><img src="assets/images/screenshots/vmc_hello.jpg" title="hello app" alt="hello.rb" /></p>

<h3>Deploying to the Cloud</h3>

<p>While you are still in the directory with the new app you deploy it as follows:</p>

<ol>
<li><p>vmc push</p>

<p> At this command, prompts will appear for your input. Provide these responses:</p>

<ul>
<li> Would you like to deploy from the current directory? [Yn] Yes</li>
<li> Application Name: hello</li>
<li> Application Deployed URL: &#8216;hello.cloudfoundry.com&#8217;? (Press Enter to accept; this takes the default from the Application Name)</li>
<li> Detected a Sinatra Application, is this correct? [Yn]  (Press Enter)</li>
<li> Memory Reservation [Default:128M]  (64M, 128M, 256M, 512M or 1G) (Press Enter)  Then a status updates appears, &#8220;Creating Application: OK&#8221;</li>
<li> Would you like to bind any services to &#8216;yourname&#8217;? [yN]: (Press Enter to accept &#8216;No&#8217; as default)</li>
</ul>


<blockquote><p>After you complete the prompts, vmc provides the following updates for a successful push:</p></blockquote>

<pre><code> Uploading Application:  
   Checking for available resources: OK
   Packing application: OK
   Uploading (0K): OK   
 Push Status: OK
 Staging Application: OK                                                         
 Starting Application: OK
</code></pre></li>
<li><p>Open your new application. In a web browser, go the application deployed URL that you provided (e.g., hello.cloudfoundry.com).</p></li>
</ol>


<h3>Updating Your App</h3>

<p>Now that you have your first app deployed you can easily update it:</p>

<ol>
<li>Open &#8216;hello.rb</li>
<li>Change the text contained from &#8220;Hello from Cloud Foundry&#8221; to &#8220;Hello from Cloud Foundry and VMware&#8221;</li>
<li>Save &#8216;hello.rb&#8217;</li>
<li><p>At the command prompt enter: vmc update hello</p>

<blockquote><p><em>Note: if you gave your application another unique Application Name
use it here instead of &#8216;hello&#8217;</em></p></blockquote>

<p>vmc will show the following updates:</p>

<pre><code>Uploading Application:
  Checking for available resources: OK
  Packing application: OK
  Uploading (0K): OK   
Push Status: OK
Stopping Application: OK
Staging Application: OK                                                         
Starting Application: OK
</code></pre></li>
<li><p>Refresh the page displayed and you will see your changes</p></li>
</ol>


<p><img src="assets/images/screenshots/vmc_update.jpg" title="vmc update" alt="vmc_update" /></p>

<h1>Where to Go Next</h1>

<p>You&#8217;re ready to move on and learn more about the brave new world of Cloud Foundry. Here are other documents that will help you get up to speed:</p>

<ul>
<li><p>A Practical Guide to vmc At a Glance (vmc cheatsheet)</p></li>
<li><p>Cloud Foundry and Ruby on Rails</p></li>
<li><p>Cloud Foundry Services Guide</p></li>
<li><p>Micro Cloud Foundry Getting Started</p></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Karen Zeller</span></span>

      




<time datetime="2011-08-26 10:19:00 -0700" pubdate  updated >Aug 26<span>th</span>, 2011</time>



      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://yoursite.com/blog/2011/08/26/vmc-getting-started/" data-via="" data-counturl="http://yoursite.com/blog/2011/08/26/vmc-getting-started/" >Tweet</a>
  
  
  <g:plusone size="medium"></g:plusone>
  
</div>

    
  </footer>
</article>

</div>

<aside role=sidebar>
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/08/26/using-cloud-foundry-services/">Using Cloud Foundry Services</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/08/26/rails-and-sinatra-for-cloud-foundry/">Rails for Cloud Foundry</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/08/26/vmc-cheatsheet/">vmc: Cheatsheet</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/08/26/micro-cloud-readme/">Micro Cloud README</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/08/26/micro-cloud-foundry-getting-started/">Micro Cloud Foundry Getting Started</a>
      </li>
    
  </ul>
</section>




  
</aside>


    </div>
  </div>
  <footer><p>
  Copyright &copy; 2011 -  <span class="credit"><a href="http://cloudfoundry.com/">Cloud Foundry</a></span> -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
</body>
</html>
